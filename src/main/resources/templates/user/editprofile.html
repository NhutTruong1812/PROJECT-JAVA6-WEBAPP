<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	th:replace="~{/user/layout/layout.html :: dynamic(~{::body})}">

<head> 
</head>

<body>
	<!-- BREADCRUMB -->
	<div id="breadcrumb" class="section">
		<!-- container -->
		<div class="container">
			<!-- row -->
			<div class="row">
				<div class="col-md-12">
					<h3 class="breadcrumb-header">RESGISTER</h3>
					<ul class="breadcrumb-tree">
						<li><a href="#">Home</a></li>
						<li class="active">register</li>
					</ul>
				</div>
			</div>
			<!-- /row -->
		</div>
		<!-- /container -->
	</div>
	<!-- /BREADCRUMB -->

	<!-- SECTION -->
	<div class="section">
		<!-- container -->
		<div class="container">
			<!-- row -->
			<form action="/home/edit-profile" method="post" th:object="${account}" enctype="multipart/form-data">
			<div class="row">
				<div class="col-md-7">
					<!-- Billing Details -->
					<div class="billing-details">
						<div class="section-title">
							<h3 class="title">Thông Tin</h3>
						</div>
							<div class="form-group">
								<i class="error" th:errors="*{id}"></i> <input
									th:field="*{id}" th:hidden="true" th:readonly="readonly" class="input" type="text"
									name="username" placeholder="id">
							</div>
							<div class="form-group">
								<i class="error" th:errors="*{username}"></i> <input
									th:field="*{username}" th:readonly="readonly" class="input" type="text"
									name="username" placeholder="Username">
							</div>
							<div class="form-group">
								<i class="error" th:errors="*{fullname}"></i> <input
									th:field="*{fullname}" class="input" type="text"
									name="fullname" placeholder="fullname">
							</div>
							<div class="form-group">
								<i class="error" th:errors="*{email}"></i> <input
									th:field="*{email}" class="input" type="text" name="email"
									placeholder="email">
							</div>

							<div class="form-group">
								<i class="error" th:errors="*{phoneNumber}"></i> <input
									class="input" th:field="*{phoneNumber}" type="text"
									name="phone" placeholder="Phone">
							</div>

							<div class="form-group">
								<i class="error" th:errors="*{password}"></i> <input
									th:field="*{password}"  class="input" type="text"
									name="password" th:hidden="true" th:readonly="readonly" placeholder="Password">
							</div>
 
						<div class="form-group">
							<button type="submit" class="primary-btn col-md-12">Đổi Thông Tin</button>
						</div>
					</div>
					<!-- /Billing Details -->

				</div>

				<!-- Order Details -->
				<div class="col-md-5 order-details">
						<div class="section-title text-center">
							<h3 class="title">Your Avatar</h3>
						</div>
						<div class="order-summary">
							<div> 
								<label > Upload Files: <input type="file" id="avt" name="avt" onchange="ImagesFileAsURL()">
								</label>
								<hr>
								<div id="displayImg" style="width: 420px;">
									<img alt="avatả" style="width: 420px;" th:src="@{|~/user/${session.usersession.avatar}}">
								</div> 
							</div>
						</div>
					</div>
			</div>
			</form>
			<!-- /row -->
		</div>
		<!-- /container -->
	</div>
	<!-- /SECTION --> 
	
	<script type="text/javascript">
            function ImagesFileAsURL() {
                var fileSelected = document.getElementById('avt').files;
                if (fileSelected.length > 0) {
                    var fileToLoad = fileSelected[0];
                    var fileReader = new FileReader();
                    fileReader.onload = function(fileLoaderEvent) {
                        var srcData = fileLoaderEvent.target.result;
                        var newImage = document.createElement('img');
                        newImage.src = srcData;
                        document.getElementById('displayImg').innerHTML = newImage.outerHTML;
                    }
                    fileReader.readAsDataURL(fileToLoad);
                }
            }
        </script>
</body>

</html>